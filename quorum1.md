## 개요
FBA에서는 신뢰도가 높은 유효성자일수록 더 많은 수의 쿼럼에 참여하게 된다.
즉 FBA는 신뢰도에 따라 블록생성의 가중치를 부여받는 시스템이다.
그러므로, FBA에서 제시하고 있는 신뢰도가 아닌 코인의 양에 따라
블럭생성에 대한 권리를 분배하는 것은 어려움이 있다.
그러나, 쿼럼구조를 FBA 특징을 가지고 있는 최소한의 크기로 설정하고,
유효성자가 가진 코인의 양만큼 쿼럼에 참여시키는 방법을 사용한다면,
그것을 구현하는 것이 보다 더 쉬워 질 것이다.
모든 유효성자들이 동시에 합의에 참여해야 한다는 고정관념을 버리고,
유효성자들이 그들의 코인의 양에 비례해서 합의에 참여할 수 있는
기회를 보장해주는 시스템을 나는 제안한다.

## 기본용어를 정리해 보자
1. 256개의 블록이 만들어지는 기간을 1 사이클이라고 정의하자.
2. 40,000개의 코인으로 나눈 몫을  unit 라고 정의하자

## 특정 시간에 코인의 양은 어떻게 측정되나?
이전 사이클 기간동안의 임의블럭(Hx)의 코인의 양을 계산할 수 있다.
여기서 특정블럭은 랜덤함수에 의해 사이클내의 임의의 블록높이로 결정된다.

## n번째 사이클에서 참여할 유효성자들은 언제 결정되나?
* n번째 사이클에서 참여할 유효성자들은 n-2번째의 사이클의 마지막 블럭이 만들어질때 결정된다.
* n+1번째 사이클에서 참여할 유효성자들은 n-1번째의 사이클의 마지막 블럭이 만들어질때 결정된다.
* n+2번째 사이클에서 참여할 유효성자들은 n번째의 사이클의 마지막 블럭이 만들어질때 결정된다.

쿼럼의 모형이 이미 정해져 있어야 그 위치에 유효성자들을 미리 결정할 수 있다.
미리 결정된 유효성자들은 블록에 담겨 저장되어야 한다.
유효성자들은 해당 사이클 동안 블록의 생성하고 검증한다.
유효성자들의 불량으로 인한 피해를 줄이기 위해 다 수의 셋트를 준비한다.

## 쿼럼의 모델은 어떻게 되나?
FBA는 다 수 쿼럼슬라이스들이 연결되어 있다.
다 수의 쿼럼슬라이스를 구성하는 유효성자들간의 상호작용에
의해 블록이 생성된다.
12개의 유효성자들이 있다. 이것을 정12면체의 각 면에 놓는다.

정12면체의 각 면에 유효성자들이 하나씩 위치시킨다.
그리고 1번 부터 12번까지 번호를 부여한다. 번호를 부여하는 규칙은 다음과 같다.
1번을 기록하고, 나머지 5개 면의 번호는 시계반대방향 순으로 부여한다.
이렇게 하면 6개의 면에 번호를 부여하게 된다.
나머지 6개는 서로 마주보는 두 면의 번호의 합은 13이 되도록 하여 번호를 부여한다.
하나의 면과 이웃한 다른 면은 5개가 있다.
이 6개를 하나의 쿼럼슬라이스로 구성한다.
다음과 같은 12개의 쿼럼슬라이스들을 만들 수 있다.

```
v01: v01, v02, v03, v04, v05, v06
v02: v02, v01, v06, v09, v08, v03
v03: v03, v01, v02, v08, v07, v04
v04: v04, v01, v03, v07, v11, v05
v05: v05, v01, v04, v11, v10, v06
v06: v06, v01, v05, v10, v09, v02
v07: v07, v03, v08, v12, v11, v04
v08: v08, v02, v03, v07, v09, v12
v09: v09, v02, v06, v08, v10, v12
v10: v10, v05, v06, v09, v11, v12
v11: v11, v04, v05, v07, v10, v12
v12: v12, v07, v08, v09, v10, v11
```
각 쿼럼은 6개의 유효성자들로 구성되며, 정족수는 4이다.

## 블록 높이에 해당하는 유효성자들의 선정
유효성자가 1개의 블록생성에 참여하기 위해서는 1unit이 있어야 한다.
한 사이클내 모든 블럭생성에 참여할 수 있는 unit의 합계는

```
256 * 60 = 15,360 (unit)
```

현재 약 5억개의 코인이 발행되어 있고 50억개 까지 증가한다.
이 코인들이 모두 노드운영에 참여할 경우,
5억개 일 때 참여율은 122%이다. 즉 1번이상 참여할 수 있다.
50억개 일 때는 12%이다.

```
COIN : 5*10^9 ------------------>  50*10^9
UNIT : 12,500 ------------------>  125,000
```
